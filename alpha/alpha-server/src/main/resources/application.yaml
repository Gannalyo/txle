## ---------------------------------------------------------------------------
## Licensed to the Apache Software Foundation (ASF) under one or more
## contributor license agreements.  See the NOTICE file distributed with
## this work for additional information regarding copyright ownership.
## The ASF licenses this file to You under the Apache License, Version 2.0
## (the "License"); you may not use this file except in compliance with
## the License.  You may obtain a copy of the License at
##
##      http://www.apache.org/licenses/LICENSE-2.0
##
## Unless required by applicable law or agreed to in writing, software
## distributed under the License is distributed on an "AS IS" BASIS,
## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
## See the License for the specific language governing permissions and
## limitations under the License.
## ---------------------------------------------------------------------------
server:
  port: 8090

alpha:
  server:
    host: localhost
    port: 8080
spring:
  profiles:
    active: mysql
  application:
    name: txle
  zipkin:
    base-url: http://10.186.61.3:9411/api/v2/spans

---
spring:
  profiles: ssl
alpha:
  server:
    ssl:
      enable: true
      cert: server.crt
      key: server.pem
      mutualAuth: true
      clientCert: client.crt
        
---
spring:
  profiles: postgresql
  datasource:
    username: postgres
    password: 123456
    url: jdbc:postgresql://localhost:5432/saga?useSSL=false
    platform: postgresql
#    continue-on-error: true

---
spring:
  profiles: mysql
  datasource:
    username: root
    password: 123456
#    url: jdbc:mysql://10.186.61.3:3306/utx?useSSL=false
    url: jdbc:mysql://10.186.61.3:3306/utx?statementInterceptors=brave.mysql.TracingStatementInterceptor&useSSL=false
#    driver-class-name    it'll get an error if open it, and don't know why so far.
#    driver-class-name: com.mysql.jdbc.driver
    platform: mysql
    continue-on-error: true
  jpa:
    properties:
      eclipselink:
        ddl-generation: none
#      hibernate:
#        ejb:
#          interceptor: org.apache.servicecomb.saga.alpha.core.SpringDataJpaSqlAspect
    show-sql: false
  metrics:
    export:
      enabled: false
#  aop:
#    auto: true
#    proxy-target-class: org.springframework.data.jpa.repository.JpaRepository

# config port for prometheus' metrics server. By Gannalyo
utx:
  prometheus:
    metrics:
      port: 8099
  accident:
    platform:
      address:
        api: http://192.168.2.187:8000/receiveFailedGlobalTxInfo
      retry:
        retries: 3
        interval: 1