<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2018-2019 ActionTech.
  ~ based on code by ServiceComb Pack CopyrightHolder Copyright (C) 2018,
  ~ License: http://www.apache.org/licenses/LICENSE-2.0 Apache License 2.0 or higher.
  -->

<assembly
	xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd">
	<id>package-server</id>
	<formats>
		<!-- file type: zip、tar、tar.gz/tgz、tar.bz2/tbz2、jar、dir、war -->
		<format>dir</format>
	</formats>
	<includeBaseDirectory>false</includeBaseDirectory>
	<fileSets>
		<fileSet>
			<directory>src/main/resources</directory>
			<!--<excludes>
				<exclude>*.sql</exclude>
				<exclude>ssl.properties</exclude>
			</excludes>-->
			<outputDirectory>/conf</outputDirectory>
		</fileSet>
		<fileSet>
			<!-- create '/bin' path and move 'txle' file into '/bin' -->
			<directory></directory>
			<outputDirectory>/bin</outputDirectory>
			<!-- It doesn't work to grant the executable authority here. Hence, have to grant in the parent file. -->
			<includes>
				<include>txle</include>
			</includes>
		</fileSet>
	</fileSets>
	<files>
		<file>
			<source>README.md</source>
		</file>
	</files>
	<dependencySets>
		<dependencySet>
			<!-- stores related jars. -->
			<outputDirectory>/lib</outputDirectory>
			<scope>runtime</scope>
		</dependencySet>
	</dependencySets>
</assembly>